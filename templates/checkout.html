{% extends "base.html" %}
{% block title %}Checkout{% endblock %}

{% block content %}
<h2>Checkout</h2>

<p>Customer: {{ current_user.Name }}</p>
<p>Phone: {{ current_user.Phone_Num }}</p>

<h3>Order Summary</h3>
<table style="width:100%; border-collapse:collapse; margin: 20px 0;">
    <tr style="background: #f2f2f2;">
        <th style="padding: 10px; text-align: left;">Product</th>
        <th style="padding: 10px; text-align: center;">Quantity</th>
        <th style="padding: 10px; text-align: right;">Price</th>
    </tr>
    {% for p, qty in items %}
    <tr style="border-bottom: 1px solid #ddd;">
        <td style="padding: 10px;">{{ p.Name }}</td>
        <td style="padding: 10px; text-align: center;">{{ qty }}</td>
        <td style="padding: 10px; text-align: right;">{{ "%.2f"|format(p.Price * qty) }} â‚ª</td>
    </tr>
    {% endfor %}
</table>

<h3 style="text-align: right;">Total: {{ total }} â‚ª</h3>

<hr>

<form method="post" style="text-align: center; margin: 30px 0;">
    <button type="submit"
            style="background: #4CAF50; color: white; padding: 15px 40px; border: none; border-radius: 5px; font-size: 18px; cursor: pointer;">
        ğŸ’³ Place Order
    </button>

    <a href="{{ url_for('cart.view_cart') }}"
       style="display: inline-block; margin-left: 15px; padding: 15px 40px; background: #f44336; color: white; text-decoration: none; border-radius: 5px;">
        â† Back to Cart
    </a>
</form>

{% endblock %}